name = "owen-jant"
main = "src/index.ts"
compatibility_date = "2026-01-20"
compatibility_flags = ["nodejs_compat"]
[dev]
port = 9019

# ============================================
# Environment Variables
# ============================================
# Non-sensitive configuration goes here in [vars]
# Sensitive secrets (like AUTH_SECRET) should be:
# - Local dev: .dev.vars file (not committed)
# - Production: wrangler secret put AUTH_SECRET
# See docs/configuration.md for full details

[vars]
# Required: Your site's public URL
SITE_URL = "https://jant.owenyoung.com"

# Optional: Site configuration
# These can be overridden in dashboard settings (/dash/settings)
# If not set, values from database settings table are used
# SITE_NAME = "My Blog"
# SITE_DESCRIPTION = "A personal blog powered by Jant"
# SITE_LANGUAGE = "en"

# Optional: R2 Storage (for media uploads)
# R2_PUBLIC_URL = "https://cdn.example.com"
# Optional: Cloudflare Image Transformations
# For automatic thumbnail generation and image optimization
# IMAGE_TRANSFORM_URL = "https://example.com/cdn-cgi/image"

# Optional: Demo mode (pre-fill sign-in credentials)
# DEMO_EMAIL = "demo@example.com"
# DEMO_PASSWORD = "demo123"

# Optional: S3-compatible storage (alternative to R2)
# Set STORAGE_DRIVER = "s3" and configure the options below.
# When using S3, the [[r2_buckets]] section can be removed.
# STORAGE_DRIVER = "s3"
# S3_ENDPOINT = "https://s3.example.com"
# S3_BUCKET = "my-bucket"
# S3_REGION = "us-east-1"
# S3_PUBLIC_URL = "https://cdn.example.com"
[[d1_databases]]
binding = "DB"
database_name = "owen-jant-db"
database_id = "d83ab4f1-d82f-43dd-b8df-c3542edc431f"
migrations_dir = "node_modules/@jant/core/src/db/migrations"

[[r2_buckets]]
binding = "R2"
bucket_name = "owen-jant-media"
